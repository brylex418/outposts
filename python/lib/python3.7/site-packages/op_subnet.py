import boto3
import botocore


ec2 = boto3.client('ec2')
subnet = boto3.resource('ec2')


# def createAndTagSubnet(az, vpc, cidr, oparn, name):
    # opsubnet = ec2.create_subnet(AvailabilityZone=az,VpcId=vpc,CidrBlock=cidr,OutpostArn=oparn)
    # subnetId = (opsubnet['Subnet']['SubnetId'])
    # tag = ec2.create_tags(
    #     Resources=[
    #         subnetId,
    #         ], 
    #     Tags=[
    #         {
    #             'Key': 'Name',
    #             'Value': name
    #         },
    #         {
    #             'Key': 'createdBy',
    #             'Value': 'cyberark'
    #         }
    #         ]
    #     )
    
    # return subnetId

# subnet1 = createAndTagSubnet('us-west-2a', 'vpc-092e3e79a9ca00270', '10.0.185.0/24', 'arn:aws:outposts:us-west-2:131562444230:outpost/op-0cc27b83880c7d8e9', 'test')
 

    
def deleteSubnet(id):
    
    
   filters = [{'Name':'tag:createdBy', 'Values':['cyberark']}]
#    subnets = list(ec2.describe_subnets.filter(Filters=filters))
#    print(subnets)
#    return(subnets)

   subnets = ec2.describe_subnets(
       Filters=[
           {
               'Name': 'tag:createdBy',
               'Values': ['cyberark']
               
           },
       ],
   ),
#    print(subnets)
   print(subnets[Subnets,[0]])
   delete = ec2.delete_subnet(
       subnetId=subnets,
   )
deleteSubnet(id)
